!function(){var e={284:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}!function(){"use strict";function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function i(t){return(i="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function n(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var o,a;return o=e,a=[{key:"getString",value:function(e){return e||0===e?e.toString():""}},{key:"convertToBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!0===e||"true"===e||!1!==e&&"false"!==e&&t}},{key:"isEmpty",value:function(e){var t=!1;return e?Array.isArray(e)?0===e.length&&(t=!0):"object"===i(e)&&0===Object.keys(e).length&&(t=!0):t=!0,t}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"removeItemFromArray",value:function(e,o,i){if(!Array.isArray(e)||!e.length)return e;i&&(e=t(e));var n=e.indexOf(o);return-1!==n&&e.splice(n,1),e}},{key:"removeArrayEmpty",value:function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return!!e})):[]}},{key:"getRandomInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=Math.ceil(t),i=Math.floor(e);return Math.floor(Math.random()*(i-o-1))+o}}],a&&n(o,a),Object.defineProperty(o,"prototype",{writable:!1}),e}();function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function l(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o;return t=e,o=[{key:"addClass",value:function(t,o){t&&(o=o.split(" "),e.getElements(t).forEach((function(e){var t;(t=e.classList).add.apply(t,s(o))})))}},{key:"removeClass",value:function(t,o){t&&(o=o.split(" "),e.getElements(t).forEach((function(e){var t;(t=e.classList).remove.apply(t,s(o))})))}},{key:"toggleClass",value:function(t,o,i){var n;if(t)return void 0!==i&&(i=Boolean(i)),e.getElements(t).forEach((function(e){n=e.classList.toggle(o,i)})),n}},{key:"hasClass",value:function(e,t){return!!e&&e.classList.contains(t)}},{key:"hasEllipsis",value:function(e){return!!e&&e.scrollWidth>e.offsetWidth}},{key:"getData",value:function(e,t,o){if(e){var i=e?e.dataset[t]:"";return"number"===o?i=parseFloat(i)||0:"true"===i?i=!0:"false"===i&&(i=!1),i}}},{key:"setData",value:function(e,t,o){e&&(e.dataset[t]=o)}},{key:"setAttr",value:function(e,t,o){e&&e.setAttribute(t,o)}},{key:"setAttrFromEle",value:function(e,t,o,i){var n={};o.forEach((function(t){n[t]=e.getAttribute(t)})),o.forEach((function(e){var o=n[e];(o||-1!==i.indexOf(e)&&""===o)&&t.setAttribute(e,o)}))}},{key:"setStyle",value:function(e,t,o){e&&(e.style[t]=o)}},{key:"setStyles",value:function(e,t){e&&t&&Object.keys(t).forEach((function(o){e.style[o]=t[o]}))}},{key:"setAria",value:function(e,t,o){var i=t;"role"!==i&&(i="aria-".concat(i)),e.setAttribute(i,o)}},{key:"getElements",value:function(e){if(e)return void 0===e.forEach&&(e=[e]),e}},{key:"addEvent",value:function(t,o,i){t&&(o=a.removeArrayEmpty(o.split(" "))).forEach((function(o){(t=e.getElements(t)).forEach((function(e){e.addEventListener(o,i)}))}))}},{key:"dispatchEvent",value:function(t,o){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(t=e.getElements(t),setTimeout((function(){t.forEach((function(e){e.dispatchEvent(new CustomEvent(o,{bubbles:i}))}))}),0))}},{key:"getAttributesText",value:function(e){var t="";if(!e)return t;for(var o in e){var i=e[o];void 0!==i&&(t+=" ".concat(o,'="').concat(i,'" '))}return t}},{key:"convertPropToDataAttr",value:function(e){return e?"data-".concat(e).replace(/([A-Z])/g,"-$1").toLowerCase():""}}],o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function v(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f={13:"onEnterPress",38:"onUpArrowPress",40:"onDownArrowPress"},m=["autofocus","disabled","multiple","required"],y=["autofocus","class","disabled","id","multiple","name","placeholder","required"],g=["additionalClasses","aliasKey","allOptionsSelectedText","allowNewOption","alwaysShowSelectedOptionsCount","ariaLabelledby","autoSelectFirstOption","clearButtonText","descriptionKey","disableAllOptionsSelectedText","disableOptionGroupCheckbox","disableSelectAll","disableValidation","dropboxWidth","dropboxWrapper","emptyValue","enableSecureText","hasOptionDescription","hideClearButton","hideValueTooltipOnSelectAll","keepAlwaysOpen","labelKey","markSearchResults","maxValues","moreText","noOfDisplayValues","noOptionsText","noSearchResultsText","optionHeight","optionSelectedText","optionsCount","optionsSelectedText","popupDropboxBreakpoint","popupPosition","position","search","searchGroup","searchPlaceholderText","selectAllOnlyVisible","selectAllText","setValueAsArray","showDropboxAsPopup","showOptionsOnlyOnSearch","showSelectedOptionsFirst","showValueAsTags","silentInitialValueSet","textDirection","tooltipAlignment","tooltipFontSize","tooltipMaxWidth","valueKey","zIndex","useGroupValue"],b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{this.createSecureTextElements(),this.setProps(t),this.setDisabledOptions(t.disabledOptions),this.setOptions(t.options),this.render()}catch(e){console.warn("Couldn't initiate Virtual Select"),console.error(e)}}var t,o,i;return t=e,i=[{key:"init",value:function(t){var o=t.ele;if(o){var i=!1;if("string"==typeof o){var n=(o=document.querySelectorAll(o)).length;if(0===n)return;1===n&&(i=!0)}void 0!==o.length&&void 0!==o.forEach||(o=[o],i=!0);var a=[];return o.forEach((function(o){t.ele=o,"SELECT"===o.tagName&&e.setPropsFromSelect(t),a.push(new e(t))})),i?a[0]:a}}},{key:"getAttrProps",value:function(){var e=c.convertPropToDataAttr,t={};return y.forEach((function(e){t[e]=e})),g.forEach((function(o){t[e(o)]=o})),t}},{key:"setPropsFromSelect",value:function(e){var t=e.ele,o=t.querySelectorAll("option"),i=[],n=[],a=[];o.forEach((function(e){var t=e.value;i.push({label:e.innerHTML,value:t}),e.disabled&&n.push(t),e.selected&&a.push(t)}));var s=document.createElement("div");c.setAttrFromEle(t,s,Object.keys(S),m),t.parentNode.insertBefore(s,t),t.remove(),e.ele=s,e.options=i,e.disabledOptions=n,e.selectedValue=a}},{key:"onFormReset",value:function(e){var t=e.target.closest("form");t&&t.querySelectorAll(".vscomp-ele-wrapper").forEach((function(e){e.parentElement.virtualSelect.reset(!0)}))}},{key:"onFormSubmit",value:function(t){e.validate(t.target.closest("form"))||t.preventDefault()}},{key:"validate",value:function(e){if(!e)return!0;var t=!1;return e.querySelectorAll(".vscomp-ele-wrapper").forEach((function(e){var o=e.parentElement.virtualSelect.validate();t||o||(t=!0)})),!t}},{key:"reset",value:function(){this.virtualSelect.reset()}},{key:"setValueMethod",value:function(){var e;(e=this.virtualSelect).setValueMethod.apply(e,arguments)}},{key:"setOptionsMethod",value:function(){var e;(e=this.virtualSelect).setOptionsMethod.apply(e,arguments)}},{key:"setDisabledOptionsMethod",value:function(){var e;(e=this.virtualSelect).setDisabledOptionsMethod.apply(e,arguments)}},{key:"toggleSelectAll",value:function(e){this.virtualSelect.toggleAllOptions(e)}},{key:"isAllSelected",value:function(){return this.virtualSelect.isAllSelected}},{key:"addOptionMethod",value:function(e){this.virtualSelect.addOption(e,!0)}},{key:"getNewValueMethod",value:function(){return this.virtualSelect.getNewValue()}},{key:"getDisplayValueMethod",value:function(){return this.virtualSelect.getDisplayValue()}},{key:"getSelectedOptionsMethod",value:function(e){return this.virtualSelect.getSelectedOptions(e)}},{key:"openMethod",value:function(){return this.virtualSelect.openDropbox()}},{key:"closeMethod",value:function(){return this.virtualSelect.closeDropbox()}},{key:"focusMethod",value:function(){return this.virtualSelect.focus()}},{key:"enableMethod",value:function(){return this.virtualSelect.enable()}},{key:"disableMethod",value:function(){return this.virtualSelect.disable()}},{key:"destroyMethod",value:function(){return this.virtualSelect.destroy()}},{key:"validateMethod",value:function(){return this.virtualSelect.validate()}},{key:"toggleRequiredMethod",value:function(e){return this.virtualSelect.toggleRequired(e)}},{key:"onResizeMethod",value:function(){document.querySelectorAll(".vscomp-ele-wrapper").forEach((function(e){e.parentElement.virtualSelect.onResize()}))}}],(o=[{key:"render",value:function(){if(this.$ele){var e=this.uniqueId,t="vscomp-wrapper",o=this.getTooltipAttrText(this.placeholder,!0,!0),i=this.getTooltipAttrText(this.clearButtonText),n=this.ariaLabelledby?'aria-labelledby="'.concat(this.ariaLabelledby,'"'):"",a=!1;this.additionalClasses&&(t+=" "+this.additionalClasses),this.multiple&&(t+=" multiple",this.disableSelectAll||(t+=" has-select-all")),this.hideClearButton||(t+=" has-clear-button"),this.keepAlwaysOpen?(t+=" keep-always-open",a=!0):t+=" closed",this.showAsPopup&&(t+=" show-as-popup"),this.hasSearch&&(t+=" has-search-input"),this.showValueAsTags&&(t+=" show-value-as-tags"),this.textDirection&&(t+=" text-direction-".concat(this.textDirection)),this.popupPosition&&(t+=" popup-position-"+this.popupPosition.toLowerCase());var s='<div id="vscomp-ele-wrapper-'.concat(e,'" class="vscomp-ele-wrapper ').concat(t,'" tabindex="0" role="combobox"\n        aria-haspopup="listbox" aria-controls="vscomp-dropbox-container-').concat(e,'" aria-expanded="').concat(a,'" ').concat(n,'\n      >\n        <input type="hidden" name="').concat(this.name,'" class="vscomp-hidden-input">\n\n        <div class="vscomp-toggle-button">\n          <div class="vscomp-value" ').concat(o,">\n            ").concat(this.placeholder,'\n          </div>\n\n          <div class="vscomp-arrow"></div>\n\n          <div class="vscomp-clear-button toggle-button-child" ').concat(i,'>\n            <i class="vscomp-clear-icon"></i>\n          </div>\n        </div>\n\n        ').concat(this.renderDropbox({wrapperClasses:t}),"\n      </div>");this.$ele.innerHTML=s,this.$body=document.querySelector("body"),this.$wrapper=this.$ele.querySelector(".vscomp-wrapper"),this.hasDropboxWrapper?(this.$allWrappers=[this.$wrapper,this.$dropboxWrapper],this.$dropboxContainer=this.$dropboxWrapper.querySelector(".vscomp-dropbox-container"),c.addClass(this.$dropboxContainer,"pop-comp-wrapper")):(this.$allWrappers=[this.$wrapper],this.$dropboxContainer=this.$wrapper.querySelector(".vscomp-dropbox-container")),this.$toggleButton=this.$ele.querySelector(".vscomp-toggle-button"),this.$clearButton=this.$ele.querySelector(".vscomp-clear-button"),this.$valueText=this.$ele.querySelector(".vscomp-value"),this.$hiddenInput=this.$ele.querySelector(".vscomp-hidden-input"),this.$dropbox=this.$dropboxContainer.querySelector(".vscomp-dropbox"),this.$dropboxCloseButton=this.$dropboxContainer.querySelector(".vscomp-dropbox-close-button"),this.$search=this.$dropboxContainer.querySelector(".vscomp-search-wrapper"),this.$optionsContainer=this.$dropboxContainer.querySelector(".vscomp-options-container"),this.$optionsList=this.$dropboxContainer.querySelector(".vscomp-options-list"),this.$options=this.$dropboxContainer.querySelector(".vscomp-options"),this.$noOptions=this.$dropboxContainer.querySelector(".vscomp-no-options"),this.$noSearchResults=this.$dropboxContainer.querySelector(".vscomp-no-search-results"),this.afterRenderWrapper()}}},{key:"renderDropbox",value:function(e){var t=e.wrapperClasses,o="self"!==this.dropboxWrapper?document.querySelector(this.dropboxWrapper):null,i='<div id="vscomp-dropbox-container-'.concat(this.uniqueId,'" role="listbox" class="vscomp-dropbox-container">\n        <div class="vscomp-dropbox">\n          <div class="vscomp-search-wrapper"></div>\n\n          <div class="vscomp-options-container">\n            <div class="vscomp-options-loader"></div>\n\n            <div class="vscomp-options-list">\n              <div class="vscomp-options"></div>\n            </div>\n          </div>\n\n          <div class="vscomp-options-bottom-freezer"></div>\n          <div class="vscomp-no-options">').concat(this.noOptionsText,'</div>\n          <div class="vscomp-no-search-results">').concat(this.noSearchResultsText,'</div>\n\n          <span class="vscomp-dropbox-close-button"><i class="vscomp-clear-icon"></i></span>\n        </div>\n      </div>');if(o){var n=document.createElement("div");return this.$dropboxWrapper=n,this.hasDropboxWrapper=!0,n.innerHTML=i,o.appendChild(n),c.addClass(n,"vscomp-dropbox-wrapper ".concat(t)),""}return this.hasDropboxWrapper=!1,i}},{key:"renderOptions",value:function(){var e,t=this,o="",i=this.getVisibleOptions(),n="",s="",r=!(!this.markSearchResults||!this.searchValue),l=this.labelRenderer,c=this.disableOptionGroupCheckbox,u="function"==typeof l,p=this.uniqueId,h=a.convertToBoolean;if(r&&(e=new RegExp("(".concat(this.searchValue,")"),"gi")),this.multiple&&(n='<span class="checkbox-icon"></span>'),this.allowNewOption){var d=this.getTooltipAttrText("New Option");s='<span class="vscomp-new-option-icon" '.concat(d,"></span>")}i.forEach((function(i){var a,d=i.index,v="vscomp-option",f=t.getTooltipAttrText("",!0,!0),m=n,y="",g="",b="",S=h(i.isSelected),O="";i.isFocused&&(v+=" focused"),i.isDisabled&&(v+=" disabled",O='aria-disabled="true"'),i.isGroupTitle&&(v+=" group-title",c&&(m="")),S&&(v+=" selected"),i.isGroupOption&&(v+=" group-option",b='data-group-index="'.concat(i.groupIndex,'"')),a=u?l(i):i.label,i.description&&(g='<div class="vscomp-option-description" '.concat(f,">").concat(i.description,"</div>")),i.isCurrentNew?(v+=" current-new",y+=s):r&&!i.isGroupTitle&&(a=a.replace(e,"<mark>$1</mark>")),o+='<div role="option" aria-selected="'.concat(S,'" id="vscomp-option-').concat(p,"-").concat(d,'" class="').concat(v,'" data-value="').concat(i.value,'"\n          data-index="').concat(d,'" data-visible-index="').concat(i.visibleIndex,'" ').concat(b," ").concat(O,"\n        >\n          ").concat(m,'\n          <span class="vscomp-option-text" ').concat(f,">\n            ").concat(a,"\n          </span>\n          ").concat(g,"\n          ").concat(y,"\n        </div>")})),this.$options.innerHTML=o,this.$visibleOptions=this.$options.querySelectorAll(".vscomp-option"),this.afterRenderOptions()}},{key:"renderSearch",value:function(){if(this.hasSearchContainer){var e="",t="";this.multiple&&!this.disableSelectAll&&(e='<span class="vscomp-toggle-all-button">\n          <span class="checkbox-icon vscomp-toggle-all-checkbox"></span>\n          <span class="vscomp-toggle-all-label">'.concat(this.selectAllText,"</span>\n        </span>")),this.hasSearch&&(t='<input type="text" class="vscomp-search-input" placeholder="'.concat(this.searchPlaceholderText,'">\n      <span class="vscomp-search-clear">&times;</span>'));var o='<div class="vscomp-search-container">\n        '.concat(e,"\n        ").concat(t,"\n      </div>");this.$search.innerHTML=o,this.$searchInput=this.$dropboxContainer.querySelector(".vscomp-search-input"),this.$searchClear=this.$dropboxContainer.querySelector(".vscomp-search-clear"),this.$toggleAllButton=this.$dropboxContainer.querySelector(".vscomp-toggle-all-button"),this.$toggleAllCheckbox=this.$dropboxContainer.querySelector(".vscomp-toggle-all-checkbox"),this.addEvent(this.$searchInput,"keyup change","onSearch"),this.addEvent(this.$searchClear,"click","onSearchClear"),this.addEvent(this.$toggleAllButton,"click","onToggleAllOptions")}}},{key:"addEvents",value:function(){this.addEvent(document,"click","onDocumentClick"),this.addEvent(this.$allWrappers,"keydown","onKeyDown"),this.addEvent(this.$toggleButton,"click","onToggleButtonClick"),this.addEvent(this.$clearButton,"click","onClearButtonClick"),this.addEvent(this.$dropboxContainer,"click","onDropboxContainerClick"),this.addEvent(this.$dropboxCloseButton,"click","onDropboxCloseButtonClick"),this.addEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.addEvent(this.$options,"click","onOptionsClick"),this.addEvent(this.$options,"mouseover","onOptionsMouseOver"),this.addEvent(this.$options,"touchmove","onOptionsTouchMove"),this.addMutationObserver()}},{key:"addEvent",value:function(e,t,o){var i=this;e&&(t=a.removeArrayEmpty(t.split(" "))).forEach((function(t){var n="".concat(o,"-").concat(t),a=i.events[n];a||(a=i[o].bind(i),i.events[n]=a),c.addEvent(e,t,a)}))}},{key:"onDocumentClick",value:function(e){var t=e.target.closest(".vscomp-wrapper");t!==this.$wrapper&&t!==this.$dropboxWrapper&&this.isOpened()&&this.closeDropbox()}},{key:"onKeyDown",value:function(e){var t=e.which||e.keyCode,o=f[t];o&&this[o](e)}},{key:"onEnterPress",value:function(e){e.preventDefault(),this.isOpened()?this.selectFocusedOption():this.openDropbox()}},{key:"onDownArrowPress",value:function(e){e.preventDefault(),this.isOpened()?this.focusOption("next"):this.openDropbox()}},{key:"onUpArrowPress",value:function(e){e.preventDefault(),this.isOpened()?this.focusOption("previous"):this.openDropbox()}},{key:"onToggleButtonClick",value:function(e){var t=e.target;t.closest(".vscomp-value-tag-clear-button")?this.removeValue(t.closest(".vscomp-value-tag")):t.closest(".toggle-button-child")||this.toggleDropbox()}},{key:"onClearButtonClick",value:function(){this.reset()}},{key:"onOptionsScroll",value:function(){this.setVisibleOptions()}},{key:"onOptionsClick",value:function(e){var t=e.target.closest(".vscomp-option");t&&!c.hasClass(t,"disabled")&&(c.hasClass(t,"group-title")?this.onGroupTitleClick(t):this.selectOption(t,{event:e}))}},{key:"onGroupTitleClick",value:function(e){if(e&&this.multiple&&!this.disableOptionGroupCheckbox){var t=!c.hasClass(e,"selected");this.toggleGroupTitleCheckbox(e,t),this.toggleGroupOptions(e,t)}}},{key:"onDropboxContainerClick",value:function(e){e.target.closest(".vscomp-dropbox")||this.closeDropbox()}},{key:"onDropboxCloseButtonClick",value:function(){this.closeDropbox()}},{key:"onOptionsMouseOver",value:function(e){var t=e.target.closest(".vscomp-option");t&&this.isOpened()&&(c.hasClass(t,"disabled")||c.hasClass(t,"group-title")?this.removeOptionFocus():this.focusOption(null,t))}},{key:"onOptionsTouchMove",value:function(){this.removeOptionFocus()}},{key:"onSearch",value:function(e){e.stopPropagation(),this.setSearchValue(e.target.value,!0)}},{key:"onSearchClear",value:function(){this.setSearchValue(""),this.focusSearchInput()}},{key:"onToggleAllOptions",value:function(){this.toggleAllOptions()}},{key:"onResize",value:function(){this.setOptionsContainerHeight(!0)}},{key:"addMutationObserver",value:function(){var e=this;if(this.hasDropboxWrapper){var t=this.$ele;this.mutationObserver=new MutationObserver((function(o){o.some((function(o){var i=p(o.removedNodes).some((function(e){if(e===t||e.contains(t))return!0}));return i&&e.destroy(),i}))})),this.mutationObserver.observe(document.querySelector("body"),{childList:!0,subtree:!0})}}},{key:"beforeValueSet",value:function(e){this.toggleAllOptionsClass(!e&&void 0)}},{key:"beforeSelectNewValue",value:function(){var e=this,t=this.getNewOption(),o=t.index;this.newValues.push(t.value),this.setOptionProp(o,"isCurrentNew",!1),this.setOptionProp(o,"isNew",!0),setTimeout((function(){e.setSearchValue(""),e.focusSearchInput()}),0)}},{key:"afterRenderWrapper",value:function(){c.addClass(this.$ele,"vscomp-ele"),this.renderSearch(),this.setDropboxStyles(),this.setOptionsHeight(),this.setVisibleOptions(),this.setOptionsContainerHeight(),this.addEvents(),this.setEleProps(),this.keepAlwaysOpen||this.showAsPopup||this.initDropboxPopover(),this.initialSelectedValue?this.setValueMethod(this.initialSelectedValue,this.silentInitialValueSet):this.autoSelectFirstOption&&this.visibleOptions.length&&this.setValueMethod(this.visibleOptions[0].value,this.silentInitialValueSet),this.showOptionsOnlyOnSearch&&this.setSearchValue("",!1,!0),this.initialDisabled&&this.disable(),this.autofocus&&this.focus()}},{key:"afterRenderOptions",value:function(){var e=this.getVisibleOptions(),t=!this.options.length&&!this.hasServerSearch,o=!t&&!e.length;(!this.allowNewOption||this.hasServerSearch||this.showOptionsOnlyOnSearch)&&c.toggleClass(this.$allWrappers,"has-no-search-results",o),c.toggleClass(this.$allWrappers,"has-no-options",t),this.setOptionAttr(),this.setOptionsPosition(),this.setOptionsTooltip()}},{key:"afterSetOptionsContainerHeight",value:function(e){e&&this.showAsPopup&&this.setVisibleOptions()}},{key:"afterSetSearchValue",value:function(){this.hasServerSearch?this.serverSearch():this.setVisibleOptionsCount(),this.selectAllOnlyVisible&&this.toggleAllOptionsClass()}},{key:"afterSetVisibleOptionsCount",value:function(){this.scrollToTop(),this.setOptionsHeight(),this.setVisibleOptions(),this.updatePosition()}},{key:"afterValueSet",value:function(){this.scrollToTop(),this.setSearchValue(""),this.renderOptions()}},{key:"afterSetOptions",value:function(e){e&&this.setSelectedProp(),this.setOptionsHeight(),this.setVisibleOptions(),this.showOptionsOnlyOnSearch&&this.setSearchValue("",!1,!0),e||this.reset()}},{key:"setProps",value:function(e){e=this.setDefaultProps(e),this.setPropsFromElementAttr(e);var t=a.convertToBoolean;this.$ele=e.ele,this.dropboxWrapper=e.dropboxWrapper,this.valueKey=e.valueKey,this.labelKey=e.labelKey,this.descriptionKey=e.descriptionKey,this.aliasKey=e.aliasKey,this.optionHeightText=e.optionHeight,this.optionHeight=parseFloat(this.optionHeightText),this.multiple=t(e.multiple),this.hasSearch=t(e.search),this.searchGroup=t(e.searchGroup),this.hideClearButton=t(e.hideClearButton),this.autoSelectFirstOption=t(e.autoSelectFirstOption),this.hasOptionDescription=t(e.hasOptionDescription),this.silentInitialValueSet=t(e.silentInitialValueSet),this.allowNewOption=t(e.allowNewOption),this.markSearchResults=t(e.markSearchResults),this.showSelectedOptionsFirst=t(e.showSelectedOptionsFirst),this.disableSelectAll=t(e.disableSelectAll),this.keepAlwaysOpen=t(e.keepAlwaysOpen),this.showDropboxAsPopup=t(e.showDropboxAsPopup),this.hideValueTooltipOnSelectAll=t(e.hideValueTooltipOnSelectAll),this.showOptionsOnlyOnSearch=t(e.showOptionsOnlyOnSearch),this.selectAllOnlyVisible=t(e.selectAllOnlyVisible),this.alwaysShowSelectedOptionsCount=t(e.alwaysShowSelectedOptionsCount),this.disableAllOptionsSelectedText=t(e.disableAllOptionsSelectedText),this.showValueAsTags=t(e.showValueAsTags),this.disableOptionGroupCheckbox=t(e.disableOptionGroupCheckbox),this.enableSecureText=t(e.enableSecureText),this.setValueAsArray=t(e.setValueAsArray),this.disableValidation=t(e.disableValidation),this.initialDisabled=t(e.disabled),this.required=t(e.required),this.autofocus=t(e.autofocus),this.useGroupValue=t(e.useGroupValue),this.noOptionsText=e.noOptionsText,this.noSearchResultsText=e.noSearchResultsText,this.selectAllText=e.selectAllText,this.searchPlaceholderText=e.searchPlaceholderText,this.optionsSelectedText=e.optionsSelectedText,this.optionSelectedText=e.optionSelectedText,this.allOptionsSelectedText=e.allOptionsSelectedText,this.clearButtonText=e.clearButtonText,this.moreText=e.moreText,this.placeholder=e.placeholder,this.position=e.position,this.textDirection=e.textDirection,this.dropboxWidth=e.dropboxWidth,this.tooltipFontSize=e.tooltipFontSize,this.tooltipAlignment=e.tooltipAlignment,this.tooltipMaxWidth=e.tooltipMaxWidth,this.noOfDisplayValues=parseInt(e.noOfDisplayValues),this.zIndex=parseInt(e.zIndex),this.maxValues=parseInt(e.maxValues),this.name=this.secureText(e.name),this.additionalClasses=e.additionalClasses,this.popupDropboxBreakpoint=e.popupDropboxBreakpoint,this.popupPosition=e.popupPosition,this.onServerSearch=e.onServerSearch,this.labelRenderer=e.labelRenderer,this.initialSelectedValue=0===e.selectedValue?"0":e.selectedValue,this.emptyValue=e.emptyValue,this.ariaLabelledby=e.ariaLabelledby,this.selectedValues=[],this.selectedOptions=[],this.newValues=[],this.events={},this.tooltipEnterDelay=200,this.searchValue="",this.searchValueOriginal="",this.isAllSelected=!1,(void 0===e.search&&this.multiple||this.allowNewOption||this.showOptionsOnlyOnSearch)&&(this.hasSearch=!0),this.hasServerSearch="function"==typeof this.onServerSearch,(this.maxValues||this.hasServerSearch||this.showOptionsOnlyOnSearch)&&(this.disableSelectAll=!0,this.disableOptionGroupCheckbox=!0),this.keepAlwaysOpen&&(this.dropboxWrapper="self"),this.showAsPopup=this.showDropboxAsPopup&&!this.keepAlwaysOpen&&window.innerWidth<=parseFloat(this.popupDropboxBreakpoint),this.hasSearchContainer=this.hasSearch||this.multiple&&!this.disableSelectAll,this.optionsCount=this.getOptionsCount(e.optionsCount),this.halfOptionsCount=Math.ceil(this.optionsCount/2),this.optionsHeight=this.getOptionsHeight(),this.uniqueId=this.getUniqueId()}},{key:"setDefaultProps",value:function(e){var t={dropboxWrapper:"self",valueKey:"value",labelKey:"label",descriptionKey:"description",aliasKey:"alias",optionsCount:5,noOfDisplayValues:50,optionHeight:"40px",noOptionsText:"No options found",noSearchResultsText:"No results found",selectAllText:"Select All",searchPlaceholderText:"Search...",clearButtonText:"Clear",moreText:"more...",optionsSelectedText:"options selected",optionSelectedText:"option selected",allOptionsSelectedText:"All",placeholder:"Select",position:"bottom",zIndex:e.keepAlwaysOpen?1:2,tooltipFontSize:"14px",tooltipAlignment:"center",tooltipMaxWidth:"300px",name:"",additionalClasses:"",maxValues:0,showDropboxAsPopup:!0,popupDropboxBreakpoint:"576px",popupPosition:"center",hideValueTooltipOnSelectAll:!0,emptyValue:""};return e.hasOptionDescription&&(t.optionsCount=4,t.optionHeight="50px"),Object.assign(t,e)}},{key:"setPropsFromElementAttr",value:function(e){var t=e.ele;for(var o in S){var i=t.getAttribute(o);-1===m.indexOf(o)||""!==i&&"true"!==i||(i=!0),i&&(e[S[o]]=i)}}},{key:"setEleProps",value:function(){var t=this.$ele;t.virtualSelect=this,t.value=this.multiple?[]:"",t.name=this.name,t.disabled=!1,t.required=this.required,t.autofocus=this.autofocus,t.multiple=this.multiple,t.form=t.closest("form"),t.reset=e.reset,t.setValue=e.setValueMethod,t.setOptions=e.setOptionsMethod,t.setDisabledOptions=e.setDisabledOptionsMethod,t.toggleSelectAll=e.toggleSelectAll,t.isAllSelected=e.isAllSelected,t.addOption=e.addOptionMethod,t.getNewValue=e.getNewValueMethod,t.getDisplayValue=e.getDisplayValueMethod,t.getSelectedOptions=e.getSelectedOptionsMethod,t.open=e.openMethod,t.close=e.closeMethod,t.focus=e.focusMethod,t.enable=e.enableMethod,t.disable=e.disableMethod,t.destroy=e.destroyMethod,t.validate=e.validateMethod,t.toggleRequired=e.toggleRequiredMethod,this.hasDropboxWrapper&&(this.$dropboxWrapper.virtualSelect=this)}},{key:"setValueMethod",value:function(e,t){var o={},i=[],n=this.multiple;if(e){if(Array.isArray(e)||(e=[e]),n){var a=this.maxValues;a&&e.length>a&&e.splice(a)}else e.length>1&&(e=[e[0]]);e=e.map((function(e){return e||0==e?e.toString():""})),this.useGroupValue&&(e=this.setGroupOptionsValue(e)),e.forEach((function(e){o[e]=!0})),this.allowNewOption&&e&&this.setNewOptionsFromValue(e)}this.options.forEach((function(e){!0!==o[e.value]||e.isDisabled||e.isGroupTitle?e.isSelected=!1:(e.isSelected=!0,i.push(e.value))})),n?this.hasOptionGroup&&this.setGroupsSelectedProp():i=i[0],this.beforeValueSet(),this.setValue(i,{disableEvent:t}),this.afterValueSet()}},{key:"setGroupOptionsValue",value:function(e){var t=[],o={},i={};return e.forEach((function(e){i[e]=!0})),this.options.forEach((function(e){var n=e.value,a=!0===i[n];e.isGroupTitle?a&&(o[e.index]=!0):(a||o[e.groupIndex])&&t.push(n)})),t}},{key:"setGroupsSelectedProp",value:function(){var e=this.isAllGroupOptionsSelected.bind(this);this.options.forEach((function(t){t.isGroupTitle&&(t.isSelected=e(t.index))}))}},{key:"setOptionsMethod",value:function(e,t){this.setOptions(e),this.afterSetOptions(t)}},{key:"setDisabledOptionsMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setDisabledOptions(e,!0),t||(this.setValueMethod(null),this.toggleAllOptionsClass()),this.setVisibleOptions()}},{key:"setDisabledOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[];if(e)if(!0===e)t&&this.options.forEach((function(e){return e.isDisabled=!0,o.push(e.value),e}));else{o=e.map((function(e){return e.toString()}));var i={};o.forEach((function(e){i[e]=!0})),t&&this.options.forEach((function(e){return e.isDisabled=!0===i[e.value],e}))}else t&&this.options.forEach((function(e){return e.isDisabled=!1,e}));this.disabledOptions=o}},{key:"setOptions",value:function(e){e||(e=[]);var t=[],o=this.disabledOptions.length,i=this.valueKey,n=this.labelKey,s=this.descriptionKey,r=this.aliasKey,l=this.hasOptionDescription,c=a.getString,u=this.secureText.bind(this),p=a.convertToBoolean,h=this.getAlias.bind(this),d=0,v=!1,f={};this.disabledOptions.forEach((function(e){f[e]=!0})),e.forEach((function e(a){var m=u(c(a[i])),y=a.options,g=!!y,b={index:d,value:m,label:u(c(a[n])),alias:h(a[r]),isVisible:p(a.isVisible,!0),isNew:a.isNew||!1,isGroupTitle:g};if(o&&(b.isDisabled=!0===f[m]),a.isGroupOption&&(b.isGroupOption=!0,b.groupIndex=a.groupIndex),l&&(b.description=u(c(a[s]))),a.customData&&(b.customData=a.customData),t.push(b),d++,g){var S=b.index;v=!0,y.forEach((function(t){t.isGroupOption=!0,t.groupIndex=S,e(t)}))}}));var m=t.length,y=this.$ele;y.options=t,y.length=m,this.options=t,this.visibleOptionsCount=m,this.lastOptionIndex=m-1,this.newValues=[],this.hasOptionGroup=v,this.setSortedOptions()}},{key:"setServerOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setOptionsMethod(t,!0);var o=this.selectedOptions,i=this.options,n=!1;if(o.length){var a={};n=!0,i.forEach((function(e){a[e.value]=!0})),o.forEach((function(e){!1===a[e.value]&&(e.isVisible=!1,i.push(e))})),this.setOptionsMethod(i,!0)}if(this.allowNewOption&&this.searchValue){var s=i.some((function(t){return t.label.toLowerCase()===e.searchValue}));s||(n=!0,this.setNewOption())}n?(this.setVisibleOptionsCount(),this.multiple&&this.toggleAllOptionsClass(),this.setValueText()):this.updatePosition(),c.removeClass(this.$allWrappers,"server-searching")}},{key:"setSelectedOptions",value:function(){this.selectedOptions=this.options.filter((function(e){return e.isSelected}))}},{key:"setSortedOptions",value:function(){var e=p(this.options);this.showSelectedOptionsFirst&&this.selectedValues.length&&(e=this.hasOptionGroup?this.sortOptionsGroup(e):this.sortOptions(e)),this.sortedOptions=e}},{key:"setVisibleOptions",value:function(){var e=p(this.sortedOptions),t=2*this.optionsCount,o=this.getVisibleStartIndex(),i=this.getNewOption(),n=o+t-1,a=0;i&&(i.visibleIndex=a,a++),e=e.filter((function(e){var t=!1;return e.isVisible&&!e.isCurrentNew&&(t=a>=o&&a<=n,e.visibleIndex=a,a++),t})),i&&(e=[i].concat(p(e))),this.visibleOptions=e,this.renderOptions()}},{key:"setOptionsPosition",value:function(e){void 0===e&&(e=this.getVisibleStartIndex());var t=e*this.optionHeight;this.$options.style.transform="translate3d(0, ".concat(t,"px, 0)"),c.setData(this.$options,"top",t)}},{key:"setOptionsTooltip",value:function(){var e=this,t=this.getVisibleOptions(),o=this.hasOptionDescription;t.forEach((function(t){var i=e.$dropboxContainer.querySelector('.vscomp-option[data-index="'.concat(t.index,'"]'));c.setData(i.querySelector(".vscomp-option-text"),"tooltip",t.label),o&&c.setData(i.querySelector(".vscomp-option-description"),"tooltip",t.description)}))}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.disableEvent,i=void 0!==o&&o,n=t.disableValidation,s=void 0!==n&&n;e?Array.isArray(e)?this.selectedValues=p(e):this.selectedValues=[e]:this.selectedValues=[];var r=this.getValue();this.$ele.value=r,this.$hiddenInput.value=this.getInputValue(r),this.isMaxValuesSelected=!!(this.maxValues&&this.maxValues<=this.selectedValues.length),this.toggleAllOptionsClass(),this.setValueText(),c.toggleClass(this.$allWrappers,"has-value",a.isNotEmpty(this.selectedValues)),c.toggleClass(this.$allWrappers,"max-value-selected",this.isMaxValuesSelected),s||this.validate(),i||c.dispatchEvent(this.$ele,"change",!0)}},{key:"setValueText",value:function(){var e=[],t=[],o=this.selectedValues.length,i=this.noOfDisplayValues,n=this.showValueAsTags,a=this.$valueText,s=0,r=this.isAllSelected&&!this.hasServerSearch&&!this.disableAllOptionsSelectedText&&!n;if(r&&this.hideValueTooltipOnSelectAll)a.innerHTML="".concat(this.allOptionsSelectedText," (").concat(o,")");else{var l,u=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=h(e))){o&&(e=o);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,r=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){r=!0,a=e},f:function(){try{s||null==o.return||o.return()}finally{if(r)throw a}}}}(this.getSelectedOptions({fullDetails:!0,keepSelectionOrder:!0}));try{for(u.s();!(l=u.n()).done;){var p=l.value;if(!p.isCurrentNew){if(s>=i)break;var d=p.label;if(e.push(d),s++,n){var v='<span class="vscomp-value-tag" data-index="'.concat(p.index,'">\n              <span class="vscomp-value-tag-content">').concat(d,'</span>\n              <span class="vscomp-value-tag-clear-button">\n                <i class="vscomp-clear-icon"></i>\n              </span>\n            </span>');t.push(v)}else t.push(d)}}}catch(e){u.e(e)}finally{u.f()}var f=o-i;f>0&&t.push('<span class="vscomp-value-tag more-value-count">+ '.concat(f," ").concat(this.moreText,"</span>"));var m=e.join(", ");if(""===m)a.innerHTML=this.placeholder;else if(a.innerHTML=m,this.multiple){var y=this.maxValues;if(c.hasEllipsis(a)||y||this.alwaysShowSelectedOptionsCount||n){var g='<span class="vscomp-selected-value-count">'.concat(o,"</span>");if(y&&(g+=' / <span class="vscomp-max-value-count">'.concat(y,"</span>")),r)a.innerHTML="".concat(this.allOptionsSelectedText," (").concat(o,")");else if(n)a.innerHTML=t.join(""),this.$valueTags=a.querySelectorAll(".vscomp-value-tag"),this.setValueTagAttr();else{var b=1===o?this.optionSelectedText:this.optionsSelectedText;a.innerHTML="".concat(g," ").concat(b)}}else t=[]}}var S="";0===o?S=this.placeholder:n||(S=t.join(", ")),c.setData(a,"tooltip",S),this.multiple&&c.setData(a,"tooltipEllipsisOnly",0===o)}},{key:"setSearchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e!==this.searchValueOriginal||o){t||(this.$searchInput.value=e);var i=e.replace(/\\/g,"").toLowerCase().trim();this.searchValue=i,this.searchValueOriginal=e,c.toggleClass(this.$allWrappers,"has-search-value",e),this.afterSetSearchValue()}}},{key:"setVisibleOptionsCount",value:function(){var e,t=0,o=!1,i=this.searchValue,n=this.searchGroup,a=this.showOptionsOnlyOnSearch,s=this.isOptionVisible.bind(this);this.hasOptionGroup&&(e=this.getVisibleOptionGroupsMapping(i)),this.options.forEach((function(r){var l;r.isCurrentNew||(a&&!i?(r.isVisible=!1,l={isVisible:!1,hasExactOption:!1}):l=s({data:r,searchValue:i,hasExactOption:o,visibleOptionGroupsMapping:e,searchGroup:n}),l.isVisible&&t++,o||(o=l.hasExactOption))})),this.allowNewOption&&(i&&!o?(this.setNewOption(),t++):this.removeNewOption()),this.visibleOptionsCount=t,this.afterSetVisibleOptionsCount()}},{key:"setOptionProp",value:function(e,t,o){this.options[e]&&(this.options[e][t]=o)}},{key:"setOptionsHeight",value:function(){this.$optionsList.style.height=this.optionHeight*this.visibleOptionsCount+"px"}},{key:"setOptionsContainerHeight",value:function(e){var t;e?this.showAsPopup&&(this.optionsCount=this.getOptionsCount(),t=this.getOptionsHeight(),this.optionsHeight=t):(t=this.optionsHeight,this.keepAlwaysOpen&&(c.setStyle(this.$noOptions,"height",t),c.setStyle(this.$noSearchResults,"height",t))),c.setStyle(this.$optionsContainer,"max-height",t),this.afterSetOptionsContainerHeight(e)}},{key:"setNewOption",value:function(e){var t=e||this.searchValueOriginal.trim();if(t){var o=this.getNewOption();if(o){var i=o.index;this.setOptionProp(i,"value",this.secureText(t)),this.setOptionProp(i,"label",this.secureText(t))}else{var n={value:t,label:t};e?(n.isNew=!0,this.newValues.push(t)):n.isCurrentNew=!0,this.addOption(n)}}}},{key:"setSelectedProp",value:function(){var e={};this.selectedValues.forEach((function(t){e[t]=!0})),this.options.forEach((function(t){!0===e[t.value]&&(t.isSelected=!0)}))}},{key:"setNewOptionsFromValue",value:function(e){if(e){var t=this.setNewOption.bind(this),o={};this.options.forEach((function(e){o[e.value]=!0})),e.forEach((function(e){e&&!0!==o[e]&&t(e)}))}}},{key:"setDropboxWrapperWidth",value:function(){if(!this.showAsPopup){var e=this.dropboxWidth||"".concat(this.$wrapper.offsetWidth,"px");c.setStyle(this.$dropboxContainer,"max-width",e)}}},{key:"setDropboxStyles",value:function(){var e=this.dropboxWidth,t={},o={"z-index":this.zIndex};e&&(this.showAsPopup?t["max-width"]=e:o.width=e),c.setStyles(this.$dropboxContainer,o),c.setStyles(this.$dropbox,t)}},{key:"setOptionAttr",value:function(){var e=this.$visibleOptions,t=this.options,o=this.optionHeight+"px",i=c.setStyle,n=c.getData,a=c.setData;e&&e.length&&e.forEach((function(e){var s=t[n(e,"index")];i(e,"height",o),a(e,"value",s.value)}))}},{key:"setValueTagAttr",value:function(){var e=this.$valueTags;if(e&&e.length){var t=c.getData,o=c.setData,i=this.options;e.forEach((function(e){var n=t(e,"index");if(void 0!==n){var a=i[n];o(e,"value",a.value)}}))}}},{key:"getVisibleOptions",value:function(){return this.visibleOptions||[]}},{key:"getValue",value:function(){return this.multiple?this.useGroupValue?this.getGroupValue():this.selectedValues:this.selectedValues[0]||""}},{key:"getGroupValue",value:function(){var e=[],t={};return this.options.forEach((function(o){if(o.isSelected){var i=o.value;o.isGroupTitle?i&&(t[o.index]=!0,e.push(i)):!0!==t[o.groupIndex]&&e.push(i)}})),e}},{key:"getInputValue",value:function(e){var t=e;return t&&t.length?this.setValueAsArray&&this.multiple&&(t=JSON.stringify(t)):t=this.emptyValue,t}},{key:"getFirstVisibleOptionIndex",value:function(){return Math.ceil(this.$optionsContainer.scrollTop/this.optionHeight)}},{key:"getVisibleStartIndex",value:function(){var e=this.getFirstVisibleOptionIndex()-this.halfOptionsCount;return e<0&&(e=0),e}},{key:"getTooltipAttrText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={"data-tooltip":e||"","data-tooltip-enter-delay":this.tooltipEnterDelay,"data-tooltip-z-index":this.zIndex,"data-tooltip-font-size":this.tooltipFontSize,"data-tooltip-alignment":this.tooltipAlignment,"data-tooltip-max-width":this.tooltipMaxWidth,"data-tooltip-ellipsis-only":t,"data-tooltip-allow-html":o};return c.getAttributesText(i)}},{key:"getOptionObj",value:function(e){if(e){var t=a.getString,o=this.secureText.bind(this);return{index:e.index,value:o(t(e.value)),label:o(t(e.label)),description:o(t(e.description)),alias:this.getAlias(e.alias),isCurrentNew:e.isCurrentNew||!1,isNew:e.isNew||!1,isVisible:!0}}}},{key:"getNewOption",value:function(){var e=this.options[this.lastOptionIndex];if(e&&e.isCurrentNew)return e}},{key:"getOptionIndex",value:function(e){var t;return this.options.some((function(o){if(o.value==e)return t=o.index,!0})),t}},{key:"getNewValue",value:function(){var e={};this.newValues.forEach((function(t){e[t]=!0}));var t=this.selectedValues.filter((function(t){return!0===e[t]}));return this.multiple?t:t[0]}},{key:"getAlias",value:function(e){return e?(e=Array.isArray(e)?e.join(","):e.toString().trim()).toLowerCase():""}},{key:"getDisplayValue",value:function(){var e=[];return this.options.forEach((function(t){t.isSelected&&e.push(t.label)})),this.multiple?e:e[0]||""}},{key:"getSelectedOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fullDetails,o=void 0!==t&&t,i=e.keepSelectionOrder,n=void 0!==i&&i,a=this.valueKey,s=this.labelKey,r=this.selectedValues,l=[];if(this.options.forEach((function(e){if(e.isSelected)if(o)l.push(e);else{var t,i=(u(t={},a,e.value),u(t,s,e.label),t);e.isNew&&(i.isNew=!0),e.customData&&(i.customData=e.customData),l.push(i)}})),n){var c={};r.forEach((function(e,t){c[e]=t})),l.sort((function(e,t){return c[e.value]-c[t.value]}))}return this.multiple||o?l:l[0]}},{key:"getVisibleOptionGroupsMapping",value:function(e){var t=this.options,o={},i=this.isOptionVisible.bind(this);return(t=this.structureOptionGroup(t)).forEach((function(t){o[t.index]=t.options.some((function(t){return i({data:t,searchValue:e}).isVisible}))})),o}},{key:"getOptionsCount",value:function(e){if(this.showAsPopup){var t=80*window.innerHeight/100-48;this.hasSearchContainer&&(t-=40),e=Math.floor(t/this.optionHeight)}else e=parseInt(e);return e}},{key:"getOptionsHeight",value:function(){return this.optionsCount*this.optionHeight+"px"}},{key:"getSibling",value:function(e,t){var o="next"===t?"nextElementSibling":"previousElementSibling";do{e&&(e=e[o])}while(c.hasClass(e,"disabled")||c.hasClass(e,"group-title"));return e}},{key:"getUniqueId",value:function(){var e=a.getRandomInt(1e4);return document.querySelector("#vscomp-ele-wrapper-".concat(e))?this.getUniqueId():e}},{key:"initDropboxPopover",value:function(){var e={ele:this.$ele,target:this.$dropboxContainer,position:this.position,zIndex:this.zIndex,margin:4,transitionDistance:30,hideArrowIcon:!0,disableManualAction:!0,disableUpdatePosition:!this.hasDropboxWrapper,afterShow:this.afterShowPopper.bind(this),afterHide:this.afterHidePopper.bind(this)};this.dropboxPopover=new PopoverComponent(e)}},{key:"openDropbox",value:function(e){this.isSilentOpen=e,e?c.setStyle(this.$dropboxContainer,"display","inline-flex"):(c.dispatchEvent(this.$ele,"beforeOpen"),c.setAria(this.$wrapper,"expanded",!0)),this.setDropboxWrapperWidth(),c.removeClass(this.$allWrappers,"closed"),this.dropboxPopover&&!e?this.dropboxPopover.show():this.afterShowPopper()}},{key:"afterShowPopper",value:function(){var e=this.isSilentOpen;this.isSilentOpen=!1,e||(this.moveSelectedOptionsFirst(),c.addClass(this.$allWrappers,"focused"),this.showAsPopup?(c.addClass(this.$body,"vscomp-popup-active"),this.isPopupActive=!0):this.focusSearchInput(),c.dispatchEvent(this.$ele,"afterOpen"))}},{key:"closeDropbox",value:function(e){this.isSilentClose=e,this.keepAlwaysOpen?this.removeOptionFocus():(e?c.setStyle(this.$dropboxContainer,"display",""):(c.dispatchEvent(this.$ele,"beforeClose"),c.setAria(this.$wrapper,"expanded",!1),c.setAria(this.$wrapper,"activedescendant","")),this.dropboxPopover&&!e?this.dropboxPopover.hide():this.afterHidePopper())}},{key:"afterHidePopper",value:function(){var e=this.isSilentClose;this.isSilentClose=!1,c.removeClass(this.$allWrappers,"focused"),this.removeOptionFocus(),e||this.isPopupActive&&(c.removeClass(this.$body,"vscomp-popup-active"),this.isPopupActive=!1),c.addClass(this.$allWrappers,"closed"),e||c.dispatchEvent(this.$ele,"afterClose")}},{key:"moveSelectedOptionsFirst",value:function(){this.showSelectedOptionsFirst&&(this.setSortedOptions(),this.$optionsContainer.scrollTop&&this.selectedValues.length?this.scrollToTop():this.setVisibleOptions())}},{key:"toggleDropbox",value:function(){this.isOpened()?this.closeDropbox():this.openDropbox()}},{key:"updatePosition",value:function(){this.$ele.updatePosition()}},{key:"isOpened",value:function(){return!c.hasClass(this.$wrapper,"closed")}},{key:"focusSearchInput",value:function(){var e=this.$searchInput;e&&e.focus()}},{key:"focusOption",value:function(e,t){var o,i=this.$dropboxContainer.querySelector(".vscomp-option.focused");if(t)o=t;else if(i)o=this.getSibling(i,e);else{var n=this.getFirstVisibleOptionIndex();o=this.$dropboxContainer.querySelector('.vscomp-option[data-visible-index="'.concat(n,'"]')),(c.hasClass(o,"disabled")||c.hasClass(o,"group-title"))&&(o=this.getSibling(o,"next"))}o&&o!==i&&(i&&this.toggleOptionFocusedState(i,!1),this.toggleOptionFocusedState(o,!0),this.toggleFocusedProp(c.getData(o,"index"),!0),this.moveFocusedOptionToView(o))}},{key:"moveFocusedOptionToView",value:function(e){if(e||(e=this.$dropboxContainer.querySelector(".vscomp-option.focused")),e){var t,o=this.$optionsContainer.getBoundingClientRect(),i=e.getBoundingClientRect(),n=o.top,a=o.bottom,s=o.height,r=i.top,l=i.bottom,u=i.height,p=e.offsetTop,h=c.getData(this.$options,"top","number");n>r?t=p+h:a<l&&(t=p-s+u+h),void 0!==t&&(this.$optionsContainer.scrollTop=t)}}},{key:"removeOptionFocus",value:function(){var e=this.$dropboxContainer.querySelector(".vscomp-option.focused");e&&(this.toggleOptionFocusedState(e,!1),this.toggleFocusedProp(null))}},{key:"selectOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.event;if(e){var i=!c.hasClass(e,"selected");if(i){if(this.multiple&&this.isMaxValuesSelected)return}else if(!this.multiple)return void this.closeDropbox();var n=this.selectedValues,s=c.getData(e,"value"),r=c.getData(e,"index","number"),l=!1,u=this.lastSelectedOptionIndex;if(this.lastSelectedOptionIndex=null,this.toggleSelectedProp(r,i),i){if(this.multiple)n.push(s),this.toggleAllOptionsClass(),this.toggleGroupOptionsParent(e),o&&o.shiftKey&&(l=!0);else{n.length&&this.toggleSelectedProp(this.getOptionIndex(n[0]),!1),n=[s];var p=this.$dropboxContainer.querySelector(".vscomp-option.selected");p&&this.toggleOptionSelectedState(p,!1),this.closeDropbox()}this.lastSelectedOptionIndex=r,this.toggleOptionSelectedState(e)}else this.multiple&&(this.toggleOptionSelectedState(e),a.removeItemFromArray(n,s),this.toggleAllOptionsClass(!1),this.toggleGroupOptionsParent(e,!1));c.hasClass(e,"current-new")&&this.beforeSelectNewValue(),this.setValue(n),l&&this.selectRangeOptions(u,r)}}},{key:"selectFocusedOption",value:function(){this.selectOption(this.$dropboxContainer.querySelector(".vscomp-option.focused"))}},{key:"selectRangeOptions",value:function(e,t){var o=this;if("number"==typeof e&&!this.maxValues){var i,n,a=this.selectedValues,s=this.hasOptionGroup,r={};if(e<t?(i=e,n=t):(i=t,n=e),this.options.forEach((function(e){if(!e.isDisabled&&!e.isGroupTitle&&e.isVisible&&!e.isSelected){var t=e.index;if(t>i&&t<n){if(s){var o=e.groupIndex;"number"==typeof o&&(r[o]=!0)}e.isSelected=!0,a.push(e.value)}}})),this.toggleAllOptionsClass(),this.setValue(a),(r=Object.keys(r)).length){var l=this.toggleGroupTitleProp.bind(this);r.forEach((function(e){l(parseInt(e))}))}setTimeout((function(){o.renderOptions()}),0)}}},{key:"toggleAllOptions",value:function(e){if(this.multiple&&!this.disableSelectAll){"boolean"!=typeof e&&(e=!c.hasClass(this.$toggleAllCheckbox,"checked"));var t=[],o=this.selectAllOnlyVisible;this.options.forEach((function(i){i.isDisabled||i.isCurrentNew||(!e||o&&!i.isVisible?i.isSelected=!1:(i.isSelected=!0,i.isGroupTitle||t.push(i.value)))})),this.toggleAllOptionsClass(e),this.setValue(t),this.renderOptions()}}},{key:"toggleAllOptionsClass",value:function(e){if(this.multiple){var t="boolean"==typeof e;t||(e=this.isAllOptionsSelected()),c.toggleClass(this.$toggleAllCheckbox,"checked",e),this.selectAllOnlyVisible&&t?this.isAllSelected=this.isAllOptionsSelected():this.isAllSelected=e}}},{key:"isAllOptionsSelected",value:function(){var e=!1;return this.options.length&&this.selectedValues.length&&(e=!this.options.some((function(e){return!e.isSelected&&!e.isDisabled&&!e.isGroupTitle}))),e}},{key:"isAllGroupOptionsSelected",value:function(e){var t=!1;return this.options.length&&(t=!this.options.some((function(t){return!t.isSelected&&!t.isDisabled&&!t.isGroupTitle&&t.groupIndex===e}))),t}},{key:"toggleGroupOptionsParent",value:function(e,t){if(this.hasOptionGroup&&!this.disableOptionGroupCheckbox&&e){var o=c.getData(e,"groupIndex","number"),i=this.$options.querySelector('.vscomp-option[data-index="'.concat(o,'"]')),n="boolean"==typeof t?t:this.isAllGroupOptionsSelected(o);this.toggleGroupTitleCheckbox(i,n)}}},{key:"toggleGroupTitleProp",value:function(e,t){var o="boolean"==typeof t?t:this.isAllGroupOptionsSelected(e);this.toggleSelectedProp(e,o)}},{key:"toggleGroupOptions",value:function(e,t){var o=this;if(this.hasOptionGroup&&!this.disableOptionGroupCheckbox&&e){var i=c.getData(e,"index","number"),n=this.selectedValues,s=this.selectAllOnlyVisible,r={},l=a.removeItemFromArray;n.forEach((function(e){r[e]=!0})),this.options.forEach((function(e){if(!e.isDisabled&&e.groupIndex===i){var o=e.value;!t||s&&!e.isVisible?(e.isSelected=!1,r[o]&&l(n,o)):(e.isSelected=!0,r[o]||n.push(o))}})),this.toggleAllOptionsClass(!!t&&null),this.setValue(n),setTimeout((function(){o.renderOptions()}),0)}}},{key:"toggleGroupTitleCheckbox",value:function(e,t){if(e){var o=c.getData(e,"index","number");this.toggleSelectedProp(o,t),this.toggleOptionSelectedState(e,t)}}},{key:"toggleFocusedProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.focusedOptionIndex&&this.setOptionProp(this.focusedOptionIndex,"isFocused",!1),this.setOptionProp(e,"isFocused",t),this.focusedOptionIndex=e}},{key:"toggleSelectedProp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOptionProp(e,"isSelected",t)}},{key:"scrollToTop",value:function(){var e=!this.isOpened();e&&this.openDropbox(!0),this.$optionsContainer.scrollTop>0&&(this.$optionsContainer.scrollTop=0),e&&this.closeDropbox(!0)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.forEach((function(e){e.isSelected=!1})),this.beforeValueSet(!0),this.setValue(null,{disableValidation:e}),this.afterValueSet(),e&&c.removeClass(this.$allWrappers,"has-error"),c.dispatchEvent(this.$ele,"reset")}},{key:"addOption",value:function(e,t){if(e){this.lastOptionIndex++,e.index=this.lastOptionIndex;var o=this.getOptionObj(e);this.options.push(o),this.sortedOptions.push(o),t&&(this.visibleOptionsCount++,this.afterSetOptions())}}},{key:"removeOption",value:function(e){(e||0==e)&&(this.options.splice(e,1),this.lastOptionIndex--)}},{key:"removeNewOption",value:function(){var e=this.getNewOption();e&&this.removeOption(e.index)}},{key:"sortOptions",value:function(e){return e.sort((function(e,t){var o=e.isSelected||e.isAnySelected,i=t.isSelected||t.isAnySelected;return o||i?o&&(!i||e.index<t.index)?-1:1:0}))}},{key:"sortOptionsGroup",value:function(e){var t=this.sortOptions.bind(this);return(e=this.structureOptionGroup(e)).forEach((function(e){var o=e.options;e.isAnySelected=o.some((function(e){return e.isSelected})),e.isAnySelected&&t(o)})),t(e),this.destructureOptionGroup(e)}},{key:"isOptionVisible",value:function(e){var t=e.data,o=e.searchValue,i=e.hasExactOption,n=e.visibleOptionGroupsMapping,a=e.searchGroup,s=t.label.toLowerCase(),r=t.description,l=t.alias,c=-1!==s.indexOf(o);return t.isGroupTitle&&(a&&c||(c=n[t.index])),l&&!c&&(c=-1!==l.indexOf(o)),r&&!c&&(c=-1!==r.toLowerCase().indexOf(o)),t.isVisible=c,i||(i=s===o),{isVisible:c,hasExactOption:i}}},{key:"structureOptionGroup",value:function(e){var t=[],o={};return e.forEach((function(e){if(e.isGroupTitle){var i=[];e.options=i,o[e.index]=i,t.push(e)}})),e.forEach((function(e){e.isGroupOption&&o[e.groupIndex].push(e)})),t}},{key:"destructureOptionGroup",value:function(e){var t=[];return e.forEach((function(e){t.push(e),t=t.concat(e.options)})),t}},{key:"serverSearch",value:function(){c.removeClass(this.$allWrappers,"has-no-search-results"),c.addClass(this.$allWrappers,"server-searching"),this.setSelectedOptions(),this.onServerSearch(this.searchValue,this)}},{key:"removeValue",value:function(e){var t=this.selectedValues,o=c.getData(e,"value");a.removeItemFromArray(t,o),this.setValueMethod(t)}},{key:"focus",value:function(){this.$wrapper.focus()}},{key:"enable",value:function(){this.$ele.disabled=!1,this.$ele.removeAttribute("disabled"),this.$hiddenInput.removeAttribute("disabled"),c.setAria(this.$wrapper,"disabled",!1)}},{key:"disable",value:function(){this.$ele.disabled=!0,this.$ele.setAttribute("disabled",""),this.$hiddenInput.setAttribute("disabled",""),c.setAria(this.$wrapper,"disabled",!0)}},{key:"validate",value:function(){if(this.disableValidation)return!0;var e=!1;return this.required&&a.isEmpty(this.selectedValues)&&(e=!0),c.toggleClass(this.$allWrappers,"has-error",e),!e}},{key:"destroy",value:function(){var e=this.$ele;e.virtualSelect=void 0,e.value=void 0,e.innerHTML="",this.hasDropboxWrapper&&(this.$dropboxWrapper.remove(),this.mutationObserver.disconnect()),c.removeClass(e,"vscomp-ele")}},{key:"createSecureTextElements",value:function(){this.$secureDiv=document.createElement("div"),this.$secureText=document.createTextNode(""),this.$secureDiv.appendChild(this.$secureText)}},{key:"secureText",value:function(e){return e&&this.enableSecureText?(this.$secureText.nodeValue=e,this.$secureDiv.innerHTML):e}},{key:"toggleRequired",value:function(e){this.required=a.convertToBoolean(e),this.$ele.required=this.required}},{key:"toggleOptionSelectedState",value:function(e,t){var o=t;void 0===o&&(o=!c.hasClass(e,"selected")),c.toggleClass(e,"selected",o),c.setAria(e,"selected",o)}},{key:"toggleOptionFocusedState",value:function(e,t){e&&(c.toggleClass(e,"focused",t),t&&c.setAria(this.$wrapper,"activedescendant",e.id))}}])&&v(t.prototype,o),i&&v(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();document.addEventListener("reset",b.onFormReset),document.addEventListener("submit",b.onFormSubmit),window.addEventListener("resize",b.onResizeMethod);var S=b.getAttrProps();window.VirtualSelect=b,"undefined"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)}(),function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,o){if(e){if("string"==typeof e)return t(e,o);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,o):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}var o=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var o;return(o=[{key:"addClass",value:function(o,i){o&&(i=i.split(" "),t.getElements(o).forEach((function(t){var o;(o=t.classList).add.apply(o,e(i))})))}},{key:"removeClass",value:function(o,i){o&&(i=i.split(" "),t.getElements(o).forEach((function(t){var o;(o=t.classList).remove.apply(o,e(i))})))}},{key:"getElements",value:function(e){if(e)return void 0===e.forEach&&(e=[e]),e}},{key:"getMoreVisibleSides",value:function(e){if(!e)return{};var t=e.getBoundingClientRect(),o=window.innerWidth,i=window.innerHeight,n=t.left,a=t.top;return{horizontal:n>o-n-t.width?"left":"right",vertical:a>i-a-t.height?"top":"bottom"}}},{key:"getAbsoluteCoords",value:function(e){if(e){var t=e.getBoundingClientRect(),o=window.pageXOffset,i=window.pageYOffset;return{width:t.width,height:t.height,top:t.top+i,right:t.right+o,bottom:t.bottom+i,left:t.left+o}}}},{key:"getCoords",value:function(e){return e?e.getBoundingClientRect():{}}},{key:"getData",value:function(e,t,o){if(e){var i=e?e.dataset[t]:"";return"number"===o?i=parseFloat(i)||0:"true"===i?i=!0:"false"===i&&(i=!1),i}}},{key:"setData",value:function(e,t,o){e&&(e.dataset[t]=o)}},{key:"setStyle",value:function(e,t,o){e&&(e.style[t]=o)}},{key:"show",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";t.setStyle(e,"display",o)}},{key:"hide",value:function(e){t.setStyle(e,"display","none")}},{key:"getHideableParent",value:function(e){for(var t,o=e.parentElement;o;){var i=getComputedStyle(o).overflow;if(-1!==i.indexOf("scroll")||-1!==i.indexOf("auto")){t=o;break}o=o.parentElement}return t}}])&&function(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t,o),t}(),i=["top","bottom","left","right"].map((function(e){return"position-".concat(e)})),n={top:"rotate(180deg)",left:"rotate(90deg)",right:"rotate(-90deg)"},a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);try{this.setProps(t),this.init()}catch(e){console.warn("Couldn't initiate popper"),console.error(e)}}var t;return(t=[{key:"init",value:function(){var e=this.$popperEle;e&&this.$triggerEle&&(o.setStyle(e,"zIndex",this.zIndex),this.setPosition())}},{key:"setProps",value:function(e){var t=(e=this.setDefaultProps(e)).position?e.position.toLowerCase():"auto";if(this.$popperEle=e.$popperEle,this.$triggerEle=e.$triggerEle,this.$arrowEle=e.$arrowEle,this.margin=parseFloat(e.margin),this.offset=parseFloat(e.offset),this.enterDelay=parseFloat(e.enterDelay),this.exitDelay=parseFloat(e.exitDelay),this.showDuration=parseFloat(e.showDuration),this.hideDuration=parseFloat(e.hideDuration),this.transitionDistance=parseFloat(e.transitionDistance),this.zIndex=parseFloat(e.zIndex),this.afterShowCallback=e.afterShow,this.afterHideCallback=e.afterHide,this.hasArrow=!!this.$arrowEle,-1!==t.indexOf(" ")){var o=t.split(" ");this.position=o[0],this.secondaryPosition=o[1]}else this.position=t}},{key:"setDefaultProps",value:function(e){return Object.assign({position:"auto",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,zIndex:1},e)}},{key:"setPosition",value:function(){o.show(this.$popperEle,"inline-flex");var e,t,a,s=window.innerWidth,r=window.innerHeight,l=o.getAbsoluteCoords(this.$popperEle),c=o.getAbsoluteCoords(this.$triggerEle),u=l.width,p=l.height,h=l.top,d=l.right,v=l.bottom,f=l.left,m=c.width,y=c.height,g=c.top,b=c.right,S=c.bottom,O=c.left,x=g-h,k=O-f,w=k,C=x,A=this.position,E=this.secondaryPosition,T=m/2-u/2,$=y/2-p/2,D=this.margin,V=this.transitionDistance,P=window.scrollY-h,M=r+P,I=window.scrollX-f,G=s+I,L=this.offset;L&&(P+=L,M-=L,I+=L,G-=L),"auto"===A&&(A=o.getMoreVisibleSides(this.$triggerEle).vertical);var F={top:{top:C-p-D,left:w+T},bottom:{top:C+y+D,left:w+T},right:{top:C+$,left:w+m+D},left:{top:C+$,left:w-u-D}},H=F[A];if(C=H.top,w=H.left,E&&("top"===E?C=x:"bottom"===E?C=x+y-p:"left"===E?w=k:"right"===E&&(w=k+m-u)),w<I?"left"===A?a="right":w=I+f>b?b-f:I:w+u>G&&("right"===A?a="left":w=G+f<O?O-d:G-u),C<P?"top"===A?a="bottom":C=P+h>S?S-h:P:C+p>M&&("bottom"===A?a="top":C=M+h<g?g-v:M-p),a){var N=F[a];"top"===(A=a)||"bottom"===A?C=N.top:"left"!==A&&"right"!==A||(w=N.left)}"top"===A?(e=C+V,t=w):"right"===A?(e=C,t=w-V):"left"===A?(e=C,t=w+V):(e=C-V,t=w);var B="translate3d(".concat(t,"px, ").concat(e,"px, 0)");if(o.setStyle(this.$popperEle,"transform",B),o.setData(this.$popperEle,"fromLeft",t),o.setData(this.$popperEle,"fromTop",e),o.setData(this.$popperEle,"top",C),o.setData(this.$popperEle,"left",w),o.removeClass(this.$popperEle,i.join(" ")),o.addClass(this.$popperEle,"position-".concat(A)),this.hasArrow){var R=0,q=0,W=w+f,K=C+h,j=this.$arrowEle.offsetWidth/2,z=n[A]||"";"top"===A||"bottom"===A?(R=m/2+O-W)<j?R=j:R>u-j&&(R=u-j):"left"!==A&&"right"!==A||((q=y/2+g-K)<j?q=j:q>p-j&&(q=p-j)),o.setStyle(this.$arrowEle,"transform","translate3d(".concat(R,"px, ").concat(q,"px, 0) ").concat(z))}o.hide(this.$popperEle)}},{key:"resetPosition",value:function(){o.setStyle(this.$popperEle,"transform","none"),this.setPosition()}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.resetPosition,n=t.data;clearTimeout(this.exitDelayTimeout),clearTimeout(this.hideDurationTimeout),i&&this.resetPosition(),this.enterDelayTimeout=setTimeout((function(){var t=o.getData(e.$popperEle,"left"),i=o.getData(e.$popperEle,"top"),a="translate3d(".concat(t,"px, ").concat(i,"px, 0)"),s=e.showDuration;o.show(e.$popperEle,"inline-flex"),o.getCoords(e.$popperEle),o.setStyle(e.$popperEle,"transitionDuration",s+"ms"),o.setStyle(e.$popperEle,"transform",a),o.setStyle(e.$popperEle,"opacity",1),e.showDurationTimeout=setTimeout((function(){"function"==typeof e.afterShowCallback&&e.afterShowCallback(n)}),s)}),this.enterDelay)}},{key:"hide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.data;clearTimeout(this.enterDelayTimeout),clearTimeout(this.showDurationTimeout),this.exitDelayTimeout=setTimeout((function(){if(e.$popperEle){var t=o.getData(e.$popperEle,"fromLeft"),n=o.getData(e.$popperEle,"fromTop"),a="translate3d(".concat(t,"px, ").concat(n,"px, 0)"),s=e.hideDuration;o.setStyle(e.$popperEle,"transitionDuration",s+"ms"),o.setStyle(e.$popperEle,"transform",a),o.setStyle(e.$popperEle,"opacity",0),e.hideDurationTimeout=setTimeout((function(){o.hide(e.$popperEle),"function"==typeof e.afterHideCallback&&e.afterHideCallback(i)}),s)}}),this.exitDelay)}},{key:"updatePosition",value:function(){o.setStyle(this.$popperEle,"transitionDuration","0ms"),this.resetPosition();var e=o.getData(this.$popperEle,"left"),t=o.getData(this.$popperEle,"top");o.show(this.$popperEle,"inline-flex"),o.setStyle(this.$popperEle,"transform","translate3d(".concat(e,"px, ").concat(t,"px, 0)"))}}])&&function(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();window.PopperComponent=a}(),function(){"use strict";var e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"convertToBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!0===e||"true"===e||!1!==e&&"false"!==e&&t}},{key:"removeArrayEmpty",value:function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return!!e})):[]}},{key:"throttle",value:function(e,t){var o,i=0;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var r=(new Date).getTime(),l=t-(r-i);clearTimeout(o),l<=0?(i=r,e.apply(void 0,a)):o=setTimeout((function(){e.apply(void 0,a)}),l)}}}])&&function(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,t),e}();function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}var i=function(){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}var i;return(i=[{key:"addClass",value:function(e,i){e&&(i=i.split(" "),o.getElements(e).forEach((function(e){var o;(o=e.classList).add.apply(o,t(i))})))}},{key:"removeClass",value:function(e,i){e&&(i=i.split(" "),o.getElements(e).forEach((function(e){var o;(o=e.classList).remove.apply(o,t(i))})))}},{key:"hasClass",value:function(e,t){return!!e&&e.classList.contains(t)}},{key:"getElement",value:function(e){return e&&("string"==typeof e?e=document.querySelector(e):void 0!==e.length&&(e=e[0])),e||null}},{key:"getElements",value:function(e){if(e)return void 0===e.forEach&&(e=[e]),e}},{key:"addEvent",value:function(e,t,i){o.addOrRemoveEvent(e,t,i,"add")}},{key:"removeEvent",value:function(e,t,i){o.addOrRemoveEvent(e,t,i,"remove")}},{key:"addOrRemoveEvent",value:function(t,i,n,a){t&&(i=e.removeArrayEmpty(i.split(" "))).forEach((function(e){(t=o.getElements(t)).forEach((function(t){"add"===a?t.addEventListener(e,n):t.removeEventListener(e,n)}))}))}},{key:"getScrollableParents",value:function(e){if(!e)return[];for(var t=[window],o=e.parentElement;o;){var i=getComputedStyle(o).overflow;-1===i.indexOf("scroll")&&-1===i.indexOf("auto")||t.push(o),o=o.parentElement}return t}}])&&function(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(o,i),o}();function n(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a={27:"onEscPress"},s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);try{this.setProps(e),this.init()}catch(e){console.warn("Couldn't initiate Popover component"),console.error(e)}}var o,s,r;return o=t,r=[{key:"init",value:function(e){var o=e.ele;if(o){var i=!1;if("string"==typeof o){if(!(o=document.querySelectorAll(o)))return;1===o.length&&(i=!0)}void 0===o.length&&(o=[o],i=!0);var n=[];return o.forEach((function(o){e.ele=o,t.destory(o),n.push(new t(e))})),i?n[0]:n}}},{key:"destory",value:function(e){if(e){var t=e.popComp;t&&t.destory()}}},{key:"showMethod",value:function(){this.popComp.show()}},{key:"hideMethod",value:function(){this.popComp.hide()}},{key:"updatePositionMethod",value:function(){this.popComp.popper.updatePosition()}}],(s=[{key:"init",value:function(){this.$popover&&(this.setElementProps(),this.renderArrow(),this.initPopper(),this.addEvents())}},{key:"getEvents",value:function(){var e=[{$ele:document,event:"click",method:"onDocumentClick"},{$ele:document,event:"keydown",method:"onDocumentKeyDown"}];return this.disableManualAction||(e.push({$ele:this.$ele,event:"click",method:"onTriggerEleClick"}),this.showOnHover&&(e.push({$ele:this.$ele,event:"mouseenter",method:"onTriggerEleMouseEnter"}),e.push({$ele:this.$ele,event:"mouseleave",method:"onTriggerEleMouseLeave"}))),e}},{key:"addOrRemoveEvents",value:function(e){var t=this;this.getEvents().forEach((function(o){t.addOrRemoveEvent({action:e,$ele:o.$ele,events:o.event,method:o.method})}))}},{key:"addEvents",value:function(){this.addOrRemoveEvents("add")}},{key:"removeEvents",value:function(){this.addOrRemoveEvents("remove"),this.removeScrollEventListeners()}},{key:"addOrRemoveEvent",value:function(t){var o=this,n=t.action,a=t.$ele,s=t.events,r=t.method,l=t.throttle;a&&(s=e.removeArrayEmpty(s.split(" "))).forEach((function(t){var s="".concat(r,"-").concat(t),c=o.events[s];c||(c=o[r].bind(o),l&&(c=e.throttle(c,l)),o.events[s]=c),"add"===n?i.addEvent(a,t,c):i.removeEvent(a,t,c)}))}},{key:"addScrollEventListeners",value:function(){this.$scrollableElems=i.getScrollableParents(this.$ele),this.addOrRemoveEvent({action:"add",$ele:this.$scrollableElems,events:"scroll",method:"onAnyParentScroll",throttle:100})}},{key:"removeScrollEventListeners",value:function(){this.$scrollableElems&&(this.addOrRemoveEvent({action:"remove",$ele:this.$scrollableElems,events:"scroll",method:"onAnyParentScroll"}),this.$scrollableElems=null)}},{key:"onAnyParentScroll",value:function(){this.popper.updatePosition()}},{key:"onDocumentClick",value:function(e){var t=e.target,o=t.closest(".pop-comp-ele"),i=t.closest(".pop-comp-wrapper");this.hideOnOuterClick&&o!==this.$ele&&i!==this.$popover&&this.hide()}},{key:"onDocumentKeyDown",value:function(e){var t=e.which||e.keyCode,o=a[t];o&&this[o](e)}},{key:"onEscPress",value:function(){this.hideOnOuterClick&&this.hide()}},{key:"onTriggerEleClick",value:function(){this.toggle()}},{key:"onTriggerEleMouseEnter",value:function(){this.show()}},{key:"onTriggerEleMouseLeave",value:function(){this.hide()}},{key:"setProps",value:function(t){t=this.setDefaultProps(t),this.setPropsFromElementAttr(t);var o=e.convertToBoolean;this.$ele=t.ele,this.target=t.target,this.position=t.position,this.margin=parseFloat(t.margin),this.offset=parseFloat(t.offset),this.enterDelay=parseFloat(t.enterDelay),this.exitDelay=parseFloat(t.exitDelay),this.showDuration=parseFloat(t.showDuration),this.hideDuration=parseFloat(t.hideDuration),this.transitionDistance=parseFloat(t.transitionDistance),this.zIndex=parseFloat(t.zIndex),this.hideOnOuterClick=o(t.hideOnOuterClick),this.showOnHover=o(t.showOnHover),this.hideArrowIcon=o(t.hideArrowIcon),this.disableManualAction=o(t.disableManualAction),this.disableUpdatePosition=o(t.disableUpdatePosition),this.beforeShowCallback=t.beforeShow,this.afterShowCallback=t.afterShow,this.beforeHideCallback=t.beforeHide,this.afterHideCallback=t.afterHide,this.events={},this.$popover=i.getElement(this.target)}},{key:"setDefaultProps",value:function(e){return Object.assign({position:"auto",margin:8,offset:5,enterDelay:0,exitDelay:0,showDuration:300,hideDuration:200,transitionDistance:10,zIndex:1,hideOnOuterClick:!0,showOnHover:!1,hideArrowIcon:!1,disableManualAction:!1,disableUpdatePosition:!1},e)}},{key:"setPropsFromElementAttr",value:function(e){var t=e.ele,o={"data-popover-target":"target","data-popover-position":"position","data-popover-margin":"margin","data-popover-offset":"offset","data-popover-enter-delay":"enterDelay","data-popover-exit-delay":"exitDelay","data-popover-show-duration":"showDuration","data-popover-hide-duration":"hideDuration","data-popover-transition-distance":"transitionDistance","data-popover-z-index":"zIndex","data-popover-hide-on-outer-click":"hideOnOuterClick","data-popover-show-on-hover":"showOnHover","data-popover-hide-arrow-icon":"hideArrowIcon","data-popover-disable-manual-action":"disableManualAction","data-popover-disable-update-position":"disableUpdatePosition"};for(var i in o){var n=t.getAttribute(i);n&&(e[o[i]]=n)}}},{key:"setElementProps",value:function(){var e=this.$ele;e.popComp=this,e.show=t.showMethod,e.hide=t.hideMethod,e.updatePosition=t.updatePositionMethod,i.addClass(this.$ele,"pop-comp-ele"),i.addClass(this.$popover,"pop-comp-wrapper")}},{key:"getOtherTriggerPopComp",value:function(){var e,t=this.$popover.popComp;return t&&t.$ele!==this.$ele&&(e=t),e}},{key:"initPopper",value:function(){var e={$popperEle:this.$popover,$triggerEle:this.$ele,$arrowEle:this.$arrowEle,position:this.position,margin:this.margin,offset:this.offset,enterDelay:this.enterDelay,exitDelay:this.exitDelay,showDuration:this.showDuration,hideDuration:this.hideDuration,transitionDistance:this.transitionDistance,zIndex:this.zIndex,afterShow:this.afterShow.bind(this),afterHide:this.afterHide.bind(this)};this.popper=new PopperComponent(e)}},{key:"beforeShow",value:function(){"function"==typeof this.beforeShowCallback&&this.beforeShowCallback(this)}},{key:"beforeHide",value:function(){"function"==typeof this.beforeHideCallback&&this.beforeHideCallback(this)}},{key:"show",value:function(){this.isShown()||(this.isShownForOtherTrigger()?this.showAfterOtherHide():(i.addClass(this.$popover,"pop-comp-disable-events"),this.$popover.popComp=this,this.beforeShow(),this.popper.show({resetPosition:!0}),i.addClass(this.$ele,"pop-comp-active")))}},{key:"hide",value:function(){this.isShown()&&(this.beforeHide(),this.popper.hide(),this.removeScrollEventListeners())}},{key:"toggle",value:function(e){void 0===e&&(e=!this.isShown()),e?this.show():this.hide()}},{key:"isShown",value:function(){return i.hasClass(this.$ele,"pop-comp-active")}},{key:"isShownForOtherTrigger",value:function(){var e=this.getOtherTriggerPopComp();return!!e&&e.isShown()}},{key:"showAfterOtherHide",value:function(){var e=this,t=this.getOtherTriggerPopComp();if(t){var o=t.exitDelay+t.hideDuration+100;setTimeout((function(){e.show()}),o)}}},{key:"afterShow",value:function(){var e=this;this.showOnHover?setTimeout((function(){i.removeClass(e.$popover,"pop-comp-disable-events")}),2e3):i.removeClass(this.$popover,"pop-comp-disable-events"),this.disableUpdatePosition||this.addScrollEventListeners(),"function"==typeof this.afterShowCallback&&this.afterShowCallback(this)}},{key:"afterHide",value:function(){i.removeClass(this.$ele,"pop-comp-active"),"function"==typeof this.afterHideCallback&&this.afterHideCallback(this)}},{key:"renderArrow",value:function(){if(!this.hideArrowIcon){var e=this.$popover.querySelector(".pop-comp-arrow");e||(this.$popover.insertAdjacentHTML("afterbegin",'<i class="pop-comp-arrow"></i>'),e=this.$popover.querySelector(".pop-comp-arrow")),this.$arrowEle=e}}},{key:"destory",value:function(){this.removeEvents()}}])&&n(o.prototype,s),r&&n(o,r),t}();window.PopoverComponent=s}()}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,o),a.exports}!function(){"use strict";o(284);var e,t=[],i=[],n=[];function a(e,t){e.forEach((function(e){t.push({label:"".concat(e.code," - ").concat(e.name),value:"".concat(e.code," - ").concat(e.name)})}))}a([{name:"Afghanistan",code:"AF"},{name:"land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}],t),a([{name:"Chemicals for use in industry",code:"1"},{name:"Paints, dyes and inks",code:"2"},{name:"Cleaning preparations and cosmetics",code:"3"},{name:"Lubricants, fuels and candles",code:"4"},{name:"Pharmaceuticals, medical and veterinary preparations",code:"5"},{name:"Common metals and their alloys; metallic building materials",code:"6"},{name:"Machines for treatment of materials and for manufacturing",code:"7"},{name:"Hand tools, cutlery and sidearms",code:"8"},{name:"Scientific, audio, visual, telecommunication and computer equipment",code:"9"},{name:"Medical and veterinary equipment",code:"10"},{name:"Lighting, heating and sanitary apparatus",code:"11"},{name:"Vehicles",code:"12"},{name:"Firearms, explosives and fireworks",code:"13"},{name:"Jewellery and watches",code:"14"},{name:"Musical instruments",code:"15"},{name:"Printed matter and stationery",code:"16"},{name:"Plastics in extruded form for use in manufacture; insulating materials",code:"17"},{name:"Leather and imitations of leather; luggage, umbrellas, walking sticks and saddlery",code:"18"},{name:"Non-metallic building materials",code:"19"},{name:"Furniture and furnishings",code:"20"},{name:"Household utensils; glassware, porcelain and earthenware",code:"21"},{name:"Ropes, string, tents, tarpaulins and sails",code:"22"},{name:"Yarns and threads",code:"23"},{name:"Textiles and household linen",code:"24"},{name:"Clothing, footwear, headgear",code:"25"},{name:"Lace and embroidery, fastenings and hair decorations",code:"26"},{name:"Carpets and other materials for covering existing floors",code:"27"},{name:"Toys, playthings, sporting articles and video game apparatus",code:"28"},{name:"Foodstuffs (meat, fish, fruit, vegetables, eggs and dairy products)",code:"29"},{name:"Foodstuffs (coffee, tea, flour, bread, sugar and confectionery)",code:"30"},{name:"Raw agricultural, horticultural and forestry products, live animals and fresh fruit and  ",code:"31"},{name:"Beers and non-alcoholic drinks",code:"32"},{name:"Alcoholic drinks (except beers)",code:"33"},{name:"Tobacco, smokers' articles and electronic cigarettes",code:"34"},{name:"Advertising, business management and retail services",code:"35"},{name:"Financial and real estate services",code:"36"},{name:"Building construction, repair and installation services",code:"37"},{name:"Telecommunications services",code:"38"},{name:"Transportation and storage services",code:"39"},{name:"Material treatment services",code:"40"},{name:"Education, entertainment, sporting and cultural activities",code:"41"},{name:"Scientific, technological and design services",code:"42"},{name:"Restaurant and accommodation services",code:"43"},{name:"Medical, veterinary, beauty care and gardening services",code:"44"},{name:"Personal, security and legal services",code:"45"}],i),e=n,[{name:"1",code:"1"},{name:"2",code:"2"},{name:"3",code:"3"},{name:"4",code:"4"},{name:"5",code:"5"},{name:"6",code:"6"},{name:"7",code:"7"},{name:"8",code:"8"},{name:"9",code:"9"},{name:"10",code:"10"},{name:"11",code:"11"},{name:"12",code:"12"},{name:"13",code:"13"},{name:"14",code:"14"},{name:"15",code:"15"},{name:"16",code:"16"},{name:"17",code:"17"},{name:"18",code:"18"},{name:"19",code:"19"},{name:"20",code:"20"},{name:"21",code:"21"},{name:"22",code:"22"},{name:"23",code:"23"},{name:"24",code:"24"},{name:"25",code:"25"},{name:"26",code:"26"},{name:"27",code:"27"},{name:"28",code:"28"},{name:"29",code:"29"},{name:"30",code:"30"},{name:"31",code:"31"},{name:"32",code:"32"},{name:"33",code:"33"},{name:"34",code:"34"},{name:"35",code:"35"},{name:"36",code:"36"},{name:"37",code:"37"},{name:"38",code:"38"},{name:"39",code:"39"},{name:"40",code:"40"},{name:"41",code:"41"},{name:"42",code:"42"},{name:"43",code:"43"},{name:"44",code:"44"},{name:"45",code:"45"},{name:"46",code:"46"},{name:"47",code:"47"},{name:"48",code:"48"},{name:"49",code:"49"},{name:"50",code:"50"}].forEach((function(t){e.push({label:"".concat(t.name),value:"".concat(t.name)})})),document.addEventListener("DOMContentLoaded",(function(){VirtualSelect.init({ele:"#select-classes",options:i,multiple:!0,search:!0,hasOptionDescription:!0,placeholder:"Select class(es)",showValueAsTags:!0}),VirtualSelect.init({ele:"#countries-list",options:t,multiple:!0,search:!0,hasOptionDescription:!0,placeholder:"Select one or more countries",showValueAsTags:!0}),VirtualSelect.init({ele:"#patent-numbers",options:n,multiple:!0,search:!1,hasOptionDescription:!0,placeholder:"Select one or more countries",showValueAsTags:!0,showSelectedOptionsFirst:!0,allowNewOption:!0});var e=function(e){return Array.from(e).find((function(e){return e.checked}))},o=document.querySelectorAll('.country-selection__tabs input[name="custom-solution"]'),a=document.querySelectorAll(".country-selection__block"),s=document.querySelectorAll('.country-selection__block input[name="card-complex"]');s[0].setAttribute("checked",!0);var r=e(o).value,l=e(s).value;o.forEach((function(e){e.addEventListener("change",(function(){o.forEach((function(e){e.parentElement.classList.remove("is--checked")})),this.parentElement.classList.add("is--checked"),r=this.value,a.forEach((function(e){e.dataset.customselection==r?e.classList.remove("is--hidden"):e.classList.add("is--hidden")}))}))})),s.forEach((function(t){t.addEventListener("change",(function(){l=e(s).value}))}));var c=document.getElementById("select-classes"),u=document.getElementById("countries-list"),p=document.querySelector('button[data-openmodalform="trigger"]'),h={eu:"European Union",madrid:"Madrid system",usa:"USA",uk:"United Kingdom"};p.addEventListener("click",(function(){var e=this,t=document.createElement("ul"),o=document.createElement("ul");function i(e){return"<li>".concat(e,"</li>")}c&&c.getSelectedOptions().forEach((function(e){t.insertAdjacentHTML("beforeend",i(e.label))})),u&&u.getSelectedOptions().forEach((function(e){o.insertAdjacentHTML("beforeend",i(e.label))}));var n=document.querySelector(".consultation__user-classes"),a=document.querySelector(".consultation__user-countries"),s=function(e){a.insertAdjacentHTML("afterbegin","<strong>You have chosen countries:</strong>"),"string"==typeof e?a.insertAdjacentHTML("beforeend","<p>".concat(h[e],"</p>")):a.insertAdjacentElement("beforeend",e)};MicroModal.show("modal-consultation",{onShow:function(i){document.querySelector(".consultation__user-classes").classList.remove("is--hidden"),document.querySelector(".consultation__user-countries").classList.remove("is--hidden"),i.querySelector(".modal__title").textContent=e.dataset.formtitle,i.querySelector(".hidden-field").value=e.dataset.formtitle,c&&(n.insertAdjacentHTML("afterbegin","<strong>You have chosen these classes:</strong>"),n.insertAdjacentElement("beforeend",t)),"complex"==r?s(l):"manually"==r&&s(o)},onClose:function(e){n.innerHTML="",a.innerHTML=""},disableScroll:!0})}))}))}()}();